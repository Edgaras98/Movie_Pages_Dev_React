(this.webpackJsonptest_pages=this.webpackJsonptest_pages||[]).push([[0],{47:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var r=c(1),a=c.n(r),n=c(31),s=c.n(n),i=(c(47),c(0)),o=c.n(i),j=c(2),l=c(12),d=c(78),u=c(79),b=c(77),p=c(50),h=(c(62),p.a.initializeApp({apiKey:"AIzaSyANmCEy6qDISuDJP6DyGxvr3kS2AFp9G6Q",authDomain:"movie-app-development-628a5.firebaseapp.com",projectId:"movie-app-development-628a5",storageBucket:"movie-app-development-628a5.appspot.com",messagingSenderId:"169061611717",appId:"1:169061611717:web:34be777caf5a14b2dd98ac"})),O=h.auth(),x=c(4),m=a.a.createContext();function f(){return Object(r.useContext)(m)}function v(e){var t=e.children,c=Object(r.useState)(),a=Object(l.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(!0),o=Object(l.a)(i,2),j=o[0],d=o[1];Object(r.useEffect)((function(){return O.onAuthStateChanged((function(e){s(e),d(!1)}))}),[]);var u={currentUser:n,login:function(e,t){return O.signInWithEmailAndPassword(e,t)},signup:function(e,t){return O.createUserWithEmailAndPassword(e,t)},logout:function(){return O.signOut()},resetPassword:function(e){return O.sendPasswordResetEmail(e)}};return Object(x.jsx)(m.Provider,{value:u,children:!j&&t})}var g=c(17),w=c(21);function y(){var e=Object(r.useRef)(),t=Object(r.useRef)(),c=Object(r.useRef)(),a=f(),n=a.signup,s=(a.login,Object(r.useState)("")),i=Object(l.a)(s,2),p=i[0],h=i[1],O=Object(r.useState)(!1),m=Object(l.a)(O,2),v=m[0],y=m[1],N=Object(g.g)();function S(){return(S=Object(j.a)(o.a.mark((function r(a){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),t.current.value===c.current.value){r.next=3;break}return r.abrupt("return",h("Password do not match"));case 3:return r.prev=3,y(!0),h(""),r.next=8,n(e.current.value,t.current.value);case 8:N.push("/login"),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),h("failed to create an account");case 14:y(!1);case 15:case"end":return r.stop()}}),r,null,[[3,11]])})))).apply(this,arguments)}return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"card-div",children:[Object(x.jsx)("h2",{className:"text-center",children:"Sign up"}),p&&Object(x.jsx)(d.a,{variant:"danger",children:p}),Object(x.jsxs)(u.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(x.jsxs)(u.a.Group,{id:"email",children:[Object(x.jsx)(u.a.Label,{children:"Email"}),Object(x.jsx)(u.a.Control,{type:"email",className:"border border-secondary bg-light text-dark",ref:e,required:!0})]}),Object(x.jsxs)(u.a.Group,{id:"password",children:[Object(x.jsx)(u.a.Label,{children:"Password (min 8 characters)"}),Object(x.jsx)(u.a.Control,{type:"password",ref:t,className:"border border-secondary bg-light text-dark",required:!0})]}),Object(x.jsxs)(u.a.Group,{id:"passsword-confirm",children:[Object(x.jsx)(u.a.Label,{children:"Passsword Confirmation"}),Object(x.jsx)(u.a.Control,{type:"password",className:"border border-secondary bg-light text-dark",ref:c,required:!0})]}),Object(x.jsx)(b.a,{disabled:v,className:"w-100 my-4 bg-primary",type:"submit",children:"Sign up"})]}),Object(x.jsxs)("div",{className:"account-redirect",children:["Already have an account? ",Object(x.jsx)(w.c,{to:"/login",children:"Log in"})]})]})})}var N=c(8);c(72);var S=function(e){var t=e.title,c=e.poster_path,r=e.overview,a=e.vote_average;return Object(x.jsxs)("div",{className:"movie",children:[Object(x.jsx)("img",{src:"https://image.tmdb.org/t/p/w1280"+c,alt:t}),Object(x.jsxs)("div",{className:"movie-info",children:[Object(x.jsx)("h3",{children:t}),Object(x.jsx)("span",{children:a})]}),Object(x.jsxs)("div",{className:"movie-over",children:[Object(x.jsx)("h2",{children:"Overview"}),Object(x.jsx)("p",{children:r})]})]})};c(73);function k(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)([]),s=Object(l.a)(n,2),i=s[0],d=s[1],u=f(),p=u.currentUser,h=u.logout,O=Object(r.useState)(""),m=Object(l.a)(O,2),v=m[0],w=m[1],y=Object(r.useState)(""),k=Object(l.a)(y,2),C=(k[0],k[1]),P=Object(g.g)(),E=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){a(e.results)}))};function L(){return(L=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(""),e.prev=1,e.next=4,h();case 4:P.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),C("failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){fetch("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=cfc50d26c547473d07ecc9939610a67f").then((function(e){return e.json()})).then((function(e){a(e.results)}))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("header",{children:Object(x.jsxs)("div",{className:"header-wrapper",children:[Object(x.jsx)(b.a,{size:"lg",className:"bg-primary",onClick:function(){return L.apply(this,arguments)},children:"Sign out"}),Object(x.jsx)("form",{onSubmit:function(e){e.preventDefault(),i&&(E("https://api.themoviedb.org/3/search/movie?api_key=cfc50d26c547473d07ecc9939610a67f&query="+i),d(""),w(i))},children:Object(x.jsx)("input",{className:"search",type:"search",placeholder:"Search...\ud83d\udd0e",value:i,onChange:function(e){d(e.target.value)}})})]})}),Object(x.jsxs)("div",{className:"welcome-div",children:[Object(x.jsx)("h2",{className:"terms",children:null===p?"Welcome, user!":"Welcome, ".concat(p.email.split("@")[0].toUpperCase([0])," !")}),Object(x.jsx)("h3",{className:"terms",children:"".concat("Recent search: ".concat(v))})]}),Object(x.jsx)("div",{className:"movie-container",children:c.length>0&&c.map((function(e){return Object(x.jsx)(S,Object(N.a)({},e),e.id)}))})]})}function C(){var e=Object(r.useRef)(),t=Object(r.useRef)(),c=f().login,a=Object(r.useState)(""),n=Object(l.a)(a,2),s=n[0],i=n[1],p=Object(r.useState)(!1),h=Object(l.a)(p,2),O=h[0],m=h[1],v=Object(g.g)();function y(){return(y=Object(j.a)(o.a.mark((function r(a){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),r.prev=1,m(!0),i(""),r.next=6,c(e.current.value,t.current.value);case 6:v.push("/"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),i("failed to log in");case 12:m(!1);case 13:case"end":return r.stop()}}),r,null,[[1,9]])})))).apply(this,arguments)}return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"card-div",children:[Object(x.jsx)("h2",{className:"text-center",children:"Log in"}),s&&Object(x.jsx)(d.a,{variant:"danger",children:s}),Object(x.jsxs)(u.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(x.jsxs)(u.a.Group,{id:"email",children:[Object(x.jsx)(u.a.Label,{children:"Email"}),Object(x.jsx)(u.a.Control,{type:"email",className:"border border-secondary bg-light text-dark",ref:e,required:!0})]}),Object(x.jsxs)(u.a.Group,{id:"password",children:[Object(x.jsx)(u.a.Label,{children:"Password"}),Object(x.jsx)(u.a.Control,{type:"password",className:"border border-secondary bg-light text-dark",ref:t,required:!0})]}),Object(x.jsx)(b.a,{disabled:O,className:"w-100 my-4",type:"submit",children:"Log in"})]}),Object(x.jsx)("div",{className:"forgot-password",children:Object(x.jsx)(w.c,{to:"forgot-password",children:"Forgot password?"})}),Object(x.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(x.jsx)(w.c,{to:"/signup",children:"Sign Up"})]})]})})}var P=c(10),E=["component"];function L(e){var t=e.component,c=Object(P.a)(e,E),r=f().currentUser;return Object(x.jsx)(g.b,Object(N.a)(Object(N.a)({},c),{},{render:function(e){return r?Object(x.jsx)(t,Object(N.a)({},e)):Object(x.jsx)(g.a,{to:"/login"})}}))}function R(){var e=Object(r.useRef)(),t=f().resetPassword,c=Object(r.useState)(""),a=Object(l.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(""),p=Object(l.a)(i,2),h=p[0],O=p[1],m=Object(r.useState)(!1),v=Object(l.a)(m,2),g=v[0],y=v[1];function N(){return(N=Object(j.a)(o.a.mark((function c(r){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r.preventDefault(),c.prev=1,O(""),y(!0),s(""),c.next=7,t(e.current.value);case 7:O("Check your inbox for further instructions"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),s("failed to reset password");case 13:y(!1);case 14:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"card-div",children:[Object(x.jsx)("h2",{className:"text-center my-4",children:"Reset password"}),n&&Object(x.jsx)(d.a,{variant:"danger",children:n}),h&&Object(x.jsx)(d.a,{variant:"success",children:h}),Object(x.jsxs)(u.a,{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(x.jsxs)(u.a.Group,{id:"email",children:[Object(x.jsx)(u.a.Label,{children:"Email"}),Object(x.jsx)(u.a.Control,{type:"email",ref:e,className:"bg-light",required:!0})]}),Object(x.jsx)(b.a,{disabled:g,className:"w-100 my-5",type:"submit",children:"Reset password"})]}),Object(x.jsx)("div",{className:"forgot-password",children:Object(x.jsx)(w.c,{to:"/login",children:"Log in"})}),Object(x.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(x.jsx)(w.c,{to:"/signup",children:"Sign Up"})]})]})})}function q(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{children:Object(x.jsx)(w.a,{children:Object(x.jsx)(v,{children:Object(x.jsxs)(g.d,{children:[Object(x.jsx)(L,{exact:!0,path:"/",component:k}),Object(x.jsx)(g.b,{path:"/signup",component:y}),Object(x.jsx)(g.b,{path:"/login",component:C}),Object(x.jsx)(g.b,{path:"/forgot-password",component:R})]})})})})})}c(74);s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(w.b,{children:Object(x.jsx)(q,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.29b58bea.chunk.js.map